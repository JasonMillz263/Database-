<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Firestore Init</title>
</head>
<body>

<button onclick="init()">Initialize Firestore</button>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getFirestore, doc, setDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyC_lKWa4cM4cM4cT337KkRw4sp7raQHl9aZWk",
  authDomain: "students-login-29409.firebaseapp.com",
  projectId: "students-login-29409",
  storageBucket: "students-login-29409.appspot.com",
  messagingSenderId: "634331456872",
  appId: "1:634331456872:web:6dae360c5e28d8356562dd"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

window.init = async () => {
  try {

    // COURSE
    await setDoc(doc(db, "courses", "course_1"), {
      title: "Test Course",
      published: true
    });

    // MODULE
    await setDoc(doc(db, "courses/course_1/modules", "module_1"), {
      title: "Module 1"
    });

    // LESSON
    await setDoc(doc(db, "courses/course_1/modules/module_1/lessons", "lesson_1"), {
      title: "Lesson 1"
    });

    alert("✅ Firestore initialized");

  } catch (e) {
    console.error(e);
    alert("❌ Failed — check console");
  }
};
</script>

</body>
</html>
